# This config is equivalent to both the '.circleci/extended/orb-free.yml' and the base '.circleci/config.yml'
version: 2.1

# Orbs are reusable packages of CircleCI configuration that you may share across projects, enabling you to create encapsulated, parameterized commands, jobs, and executors that can be used across multiple projects.
# See: https://circleci.com/docs/2.0/orb-intro/
orbs:
  node: circleci/node@5.1.0
  docker: circleci/docker@1.7.0
  kubernetes: circleci/kubernetes@1.3.1

jobs:
  example-job:
    docker:
      # replace with your preferred image
      - image: cimg/base:stable
    steps:
      - checkout
      - run:
          name: yarn install
          command: npm install
      - run:
          name: yarn build
          command: npm run build

  # yoga-build:
  #   docker:
  #     # replace with your preferred image
  #     - image: cimg/base:stable
  #   steps:
  #     - docker/build:
  #         attach-at: ./
  #         debug: false
  #         dockerfile: Dockerfile
  #         image: yoga-docker
  #         lint-dockerfile: false
  #         path: .
  #         registry: ere
  #         tag: rtrt
  #         treat-warnings-as-errors: false
workflows:
  example-workflow:
    jobs:
      - example-job
      # - yoga-build